---
## Front matter
title: "Отчёт по лабораторной работе №4"
subtitle: "дисциплина: Операционные системы"
author: "Максим Александрович Мишонков"

## Generic otions
lang: ru-RU
toc-title: "Содержание"

## Bibliography
bibliography: bib/cite.bib
csl: pandoc/csl/gost-r-7-0-5-2008-numeric.csl

## Pdf output format
toc: true # Table of contents
toc-depth: 2
lof: true # List of figures
fontsize: 12pt
linestretch: 1.5
papersize: a4
documentclass: scrreprt
## I18n polyglossia
polyglossia-lang:
  name: russian
  options:
	- spelling=modern
	- babelshorthands=true
polyglossia-otherlangs:
  name: english
## I18n babel
babel-lang: russian
babel-otherlangs: english
## Fonts
mainfont: PT Serif
romanfont: PT Serif
sansfont: PT Sans
monofont: PT Mono
mainfontoptions: Ligatures=TeX
romanfontoptions: Ligatures=TeX
sansfontoptions: Ligatures=TeX,Scale=MatchLowercase
monofontoptions: Scale=MatchLowercase,Scale=0.9
## Biblatex
biblatex: true
biblio-style: "gost-numeric"
biblatexoptions:
  - parentracker=true
  - backend=biber
  - hyperref=auto
  - language=auto
  - autolang=other*
  - citestyle=gost-numeric
## Pandoc-crossref LaTeX customization
figureTitle: "Рис."
tableTitle: "Таблица"
listingTitle: "Листинг"
lofTitle: "Список иллюстраций"
lolTitle: "Листинги"
## Misc options
indent: true
header-includes:
  - \usepackage{indentfirst}
  - \usepackage{float} # keep figures where there are in the text
  - \floatplacement{figure}{H} # keep figures where there are in the text
---

# Цель работы

Целью данной лабораторной работы является приобретение практических навыков взаимодействия пользователя с системой посредством командной строки.

# Теоретическое введение

**Unix** - это семейство переносимых, многозадачных и многопользовательских операционнных систем, которые основаны на идеях оригинального проекта AT&T Unix, разработанного в 1970-х годах.

**Командная оболочка Unix** - это командный интерпретатор, используемый в операционных системах Unix, в котором пользователь может либо давать команды операционной системе по отдельности, либо запускать скрипты, состоящие из списка команд. 


# Выполнение лабораторной работы

1. Определил полное имя домашнего каталога. (рис. [-@fig:001])

![Полное имя домашнего каталога](image/Рис.1.png){ #fig:001 width=70% }

2. Перешёл в каталог /tmp и вывел его содержимое при помощи команды ls. (рис. [-@fig:002])

![Каталог /tmp и его содержимое](image/Рис.2.png){ #fig:002 width=70% }

3. Использовал команду ls для каталога /tmp с различными опциями. (рис. [-@fig:003], [-@fig:004], [-@fig:005], [-@fig:006])

1)"ls" - используется для просмотра содержимого каталога. Для этого вручную открываем каталог tmp;
2)"ls -a" - используется для того, чтобы отобразить имена скрытых файлов;
3)"ls -F" - команда для того, чтобы получить информацию о типах файлов (каталог, исполняемый файл, ссылка). При использовании этой опции вполе имени выводится символ, который определяет тип файла;
4)"ls -l" - команда для того, чтобы вывести на экран подробную информацию о файлах и каталогах;
5)"ls -alF" - данная команда отобразит список всех каталогов и файлов, в том числе и скрытых, с подробной информацией о них.

![Команда ls -a](image/Рис.3.png){ #fig:003 width=70% }

![Команда ls -F](image/Рис.4.png){ #fig:004 width=70% }

![Команда ls -l](image/Рис.5.png){ #fig:005 width=70% }

![Команда ls -alF](image/Рис.6.png){ #fig:006 width=70% }

4. Определил, есть ли в каталоге /var/spool подкаталог с именем cron. Видим, что данный подкаталог существует. (рис. [-@fig:007])

![Подкаталог cron](image/Рис.7.png){ #fig:007 width=70% }

5. Перешёл в домашний каталог и вывел его содержимое. Владельцем файлов и подкаталогов является mamishonkov. (рис. [-@fig:008])

![Содержимое домашнего каталога](image/Рис.8.png){ #fig:008 width=70% }

6. В домашнем каталоге создал новый каталог с именем newdir, создал в нём каталог с именем morefun. (рис. [-@fig:009])

![Каталоги newdir и morefun](image/Рис.9.png){ #fig:009 width=70% }

7. В домашнем каталоге создал одной командой три новых каталога с именами letters, memo, misk, затем удалил эти каталоги одной командой. (рис. [-@fig:010])

![Создание и удаление каталогов](image/Рис.10.png){ #fig:010 width=70% }

8. Попробовал удалить раннее созданный каталог ~/newdir командой rm. Каталог не был удалён, так как данный каталог содержит подкаталог и требует при удалении использовать опцию -r. Удалил каталог ~/newdir/morefun. (рис. [-@fig:011])

![Удаление каталогов](image/Рис.11.png){ #fig:011 width=70% }

9. При помощи команды man определил, какую опцию команды ls нужно использовать для просмотра содержимого не только указанного каталога, но и подкаталогов, входящих в него. определил набор опций команды ls, позволяющей отсортировать по времени последнего изменения выводимый список содержимого каталога с развёрнутым описанием файлов. Используя команду make для команд cd, pwd, mkdir, rmdir, rm, просмотрел описание соответствующих команд. (рис. [-@fig:012], [-@fig:013], [-@fig:014], [-@fig:015], [-@fig:016], [-@fig:017], [-@fig:018])

![Просмотр команд для man](image/Рис.12.png){ #fig:012 width=70% }

![man ls](image/Рис.13.png){ #fig:013 width=70% }

![man cd](image/Рис.14.png){ #fig:014 width=70% }

*Опции команды pwd:*

1.-L, --logical - не разыменовывать символические ссылки. Если путь содержит ссылки, то выводить их без преобразования в исходный путь;
2.-P, --physical - преобразовывать символические ссылки в исходные имена. Если путь содержит данные ссылки, то они будут преобразованы в названия исходных директорий (на которые они указаны);
3.--help - показать справку по команде pwd;
4.--version - показать версию утилиты pwd.

![man pwd](image/Рис.15.png){ #fig:015 width=70% }

*Опции команды mkdir:*

1.-m,--mode=MODE - устанавливает права доступа для создаваемой директории. Синтаксис MODE такой же как у команды chmod;
2.-p,--parents - создаёт все директории, которые указаны внутри пути (если директория существует, сообщение об этом не выводится);
3.-v, --verbose - выводит сообщение о каждой создаваемой директории;
4.-z - устанавливает контекст SELinux для создаваемой директории по умолчанию;
5.--context[=CTX] - устанавливает контекст SELinux для создаваемой директории в значение CTX;
6.--help - показывает справку по команде mkdir;
7.--version - показывает версию утилиты mkdir.

![man mkdir](image/Рис.16.png){ #fig:016 width=70% }

*Опции команды rmdir:*

1.--ignore-fail-on-non-empty - игнорировать директории, которые содержат в себе файлы;
2.-p, --parents - в этой опции каждый аргумент каталога обрабатывается как путь, из которого будут удалены все компоненты, если они уже пусты, начиная с последнего компонента;
3.-v, --verbose - отображение подробной информациидля каждого обрабатываемого каталога;
4.--help - показать справку по команде rmdir;
5.--version - показать версию утилиты rmdir.

![man rmdir](image/Рис.17.png){ #fig:017 width=70% }

*Опции команды rm:*

1.-f, --force - игнорировать несуществующие файлы и аргументы. Никогда не выдавать запросы на подтверждение удаления;
2.-i - выводить запрос на подтверждение удаления каждого файла;
3.-I - выдать один запрос на подтверждение удаления всех файлов, если удаляется больше трех файлов или используется рекурсивное удаление. Опция применяется, как более «щадящая» версия опции –i;
4.--interactive[=WHEN] - вместо WHEN можно использовать:never — никогда не выдавать запросы на подтверждение удаления, once — выводить запрос один раз (аналог опции -I). always —выводить запрос всегда (аналог опции -i).Если значение КОГДА не задано, то используется always;
5.--one-file-system - во время рекурсивного удаления пропускать директории, которые находятся на других файловых системах;
6.--no-preserve-root - если в качестве директории для удаления задан корневой раздел /, то считать, что это обычная директория и начать выполнять удаление;
7.--preserve-root[=all] - если в качестве директории для удаления задан корневой раздел /, то запретить выполнять команду rm над корневым разделом. Данное поведение используется по умолчанию;
8.-r, -R, --recursive - удаление директорий и их содержимого. Рекурсивное удаление;
9.-d, --dir - удалять пустые директории;
10.-v, --verbose - выводить информацию об удаляемых файлах;
11.--help - показать справку по команде rm;
12.--version - показать версию утилиты rm

![man rm](image/Рис.18.png){ #fig:018 width=70% }

10. Используя информацию, полученную при помощи команды history, выполнил модификацию и исполнение нескольких команд из буфера команд. (рис. [-@fig:019], [-@fig:020], [-@fig:021])

![Команда history](image/Рис.19.png){ #fig:019 width=70% }

![Команда history](image/Рис.20.png){ #fig:020 width=70% }

![Команды "!516", "!527"](image/Рис.21.png){ #fig:021 width=70% }


**Ответы на контрольные вопросы:**

1. Командная строка – специальная программа, позволяющая управлять операционной системой при помощи текстовых команд, вводимых в окне приложения. 

2. Для определения абсолютного пути к текущему каталогу используется команда pwd (print working directory). Например, команда «pwd» в моем домашнем каталоге выведет: /home/mamishonkov. 

3. Команда «ls-F» (или «ls-aF», тогда появятся еще скрытые файлы) выведет имена файлов в текущем каталоге и их типы. Тип каталога обозначается /, тип исполняемого файла обозначается , тип ссылки обозначается @. Пример на Рисунке 3. 

4. Имена скрытых файлов начинаются с точки. Эти файлы в операционной системе скрыты от просмотра и обычно используются для настройки рабочей среды. Для того, чтобы отобразить имена скрытых файлов, необходимо использовать команду «ls –a». Пример на Рисунке 3. 

5. Команда rm используется для удаления файлов и/или каталогов. Команда rm-i выдает запрос подтверждения наудаление файла. Команда rm-r необходима, чтобы удалить каталог, содержащий файлы. Без указания этой опции команда не будет выполняться. Если каталог пуст, то можно воспользоваться командой rmdir. Если удаляемый каталог содержит файлы, то команда не будет выполнена –нужно использовать «rm -r имя_каталога».Таким образом, каталог, не содержащий файлов, можно удалить и командой rm, и командой rmdir. Файл командой rmdir удалить нельзя. Примеры на Рисунке 8. 

6. Чтобы определить, какие команды выполнил пользователь в сеансе работы, необходимо воспользоваться командой «history». 

7. Чтобы исправить или запустить на выполнение команду, которую пользователь уже использовал в сеансе работы, необходимо: в первом случае:воспользоваться конструкцией !<номер_команды>:s/<что_меняем>/<на_что_меняем>, во втором случае: !<номер_команды>. Примеры на Рисунке 21. 

8. Чтобы записать в одной строке несколько команд, необходимо между ними поставить ; . Например, «cd /tmp; ls». 

9. Символ обратного слэша позволяет использовать управляющие символы (".", "/", "$", "", "[", "]", "^", "&") без их интерпретации командной оболочкой; процедура добавления данного символа перед управляющими символами называетсяэкранированием символов. Например, команда «lsnewdir/morefun» отобразит содержимое каталога newdir/morefun. 

10. Команда «ls -l» отображает список каталогов и файлов с подробной информацией о них (тип файла, право доступа, число ссылок, владелец, размер, дата последней ревизии, имя файла или каталога). 

11. Полный, абсолютный путь от корня файловой системы – это путь который начинается от корня "/" и описывает весь путь к файлу или каталогу; Относительный путь – это путь к файлу относительно текущего каталога (каталога, где находится пользователь). Например, «cd/newdir/morefun» – абсолютный путь, «cdnewdir» – относительный путь. 

12. Чтобы получить необходимую информацию о команде, необходимо воспользоваться конструкцией man[имя_команды], либо использовать опцию help, которая предусмотрена для некоторых команд. 

13. Для автоматического дополнения вводимых команд служит клавиша Tab.

# Выводы

В ходе выполнения данной лабораторной работы я приобрёл навыки взаимодействия пользователя с системой посредством командной строки.


